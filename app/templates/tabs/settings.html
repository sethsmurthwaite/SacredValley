<div class="settings-grid">
    <div class="settings-card">
        <h2>Account</h2>
        <form method="POST" action="/settings/username">
            <input type="text" name="new_username" placeholder="New username" required>
            <button type="submit">Change Username</button>
        </form>
        <form method="POST" action="/settings/email">
            <input type="email" name="new_email" placeholder="New email" required>
            <button type="submit">Change Email</button>
        </form>
    </div>

    <div class="settings-card">
        <h2>Privacy</h2>
        <form method="POST" action="/settings/privacy">
            <label>
                <input type="checkbox" name="show_progress" {% if user_json.show_progress_public %}checked{% endif %}>
                Show progress on leaderboards
            </label>
            <label>
                <input type="checkbox" name="clan_visibility" {% if user_json.profile_visible_to_clan %}checked{% endif %}>
                Visible to clan members
            </label>
            <button type="submit">Save Privacy</button>
        </form>
    </div>

    <div class="settings-card danger">
        <h2>Danger Zone</h2>
        <form method="GET" action="/logout">
            <button type="submit" class="btn-logout">Logout</button>
        </form>
        <form method="POST" action="/delete-account" id="delete-account-form">
            <input type="hidden" name="confirm" value="Delete Account">
            <button type="submit" class="btn-danger"
                    onclick="return confirm('Are you sure you want to delete your account? This cannot be undone.')">
                Delete Account
            </button>
        </form>
    </div>
</div>